<!DOCTYPE html>
<html>
{{template "head"}}
<body>
{{template "nav"}}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center orange-text">Bookstore</h1>
        <div class="row center">
            <h5 class="header col s12 light">Read more for profit and fun: Golang + Materialize demo</h5>
        </div>
        <div class="row center">
            <a href="favs" id="action-button"
               class="btn-large waves-effect waves-light orange">Go to Favourites</a>
        </div>
        <br><br>

    </div>
</div>
<div class="container">
    <div class="section">
        <!--   Books list section   -->
        <h5>Books List ({{len .Db}} books)</h5>
        <div class="row">
            {{$fav := .Fav}}
            {{range .Db}}
                <div class="card-wrapper col s12 l6">
                    <div class="card horizontal sticky-action">
                        <div class="card-image waves-effect waves-block waves-light">
                            <img class="activator" src="{{urlSafe .Thumbnail}}">
                        </div>
                        <div class="card-stacked">
                            <div class="card-content">
                    <span class="card-title activator grey-text text-darken-4">{{.Title}}<i
                                class="material-icons right">more_vert</i></span>
                                <p><a href="#">{{.Subtitle}}</a></p>
                                <div class="card-action">
                                    {{if (index $fav .ID).ID}}
                                        <a href="books?remove={{.ID}}">Remove from Favourites</a>
                                    {{else}}
                                        <a href="books?add={{.ID}}">Add to Favourites</a>
                                    {{end}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{end}}
        </div>
        <br>
        <br>
        <br>
    </div>
</div>
<!--JavaScript at end of body for optimized loading-->
<script type="text/javascript" src="static/js/materialize.min.js"></script>
</body>
</html>
